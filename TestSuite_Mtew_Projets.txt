*** Settings ***
Suite Teardown    close all browsers
Resource          Function/functions_Mtew_Connexion.txt
Resource          Function/functions_Mtew_Projets.txt
Resource          Function/functions_Mtew_Scripts.txt

*** Test Cases ***
Mtew_Projets_RightInsert
    [Tags]    projects
    connection_web
    connection_log
    access_project_panel
    access_add_project
    assert_url    projects/add
    fill_form_add
    submit_form_add
    [Teardown]    Run keywords    close all browsers
    ...    AND    write_log    ${testName}    ${output}

Mtew_Projets_WrongInsert
    [Tags]    projects
    connection_web
    connection_log
    access_project_panel
    access_add_project
    lang_fr
    assert_url    projects/add
    submit_form_add
    assert_url    projects/add
    assert_error    ${keyNameEmpty}    ${fichierFR}
    lang_eng
    access_project_panel
    access_add_project
    submit_form_add
    assert_url    projects/add
    assert_error    ${keyNameEmpty}    ${fichierEN}
    [Teardown]    Run keywords    close all browsers
    ...    AND    write_log    ${testName}    ${output}

Mtew_Projets_Services
    [Tags]    projects
    connection_web
    connection_log
    acces_QCM
    assert_presence    1
    acces_message
    assert_presence    1
    acces_sondage
    assert_presence    0
    acces_question
    assert_presence    0
    [Teardown]    Run keywords    close all browsers
    ...    AND    write_log    ${testName}    ${output}

Mtew_Projets_Filtres
    [Tags]    projects
    connection_web
    connection_log
    access_project_panel
    input_filtre_nom    1
    assert_presence    1
    input_filtre_nom    0
    assert_presence    0
    input_filtre_desc    1
    assert_presence    1
    input_filtre_desc    0
    assert_presence    0
    [Teardown]    Run keywords    close all browsers
    ...    AND    write_log    ${testName}    ${output}

Mtew_Projets_RightEdit
    [Tags]    projects    progress
    connection_web
    connection_log
    access_project_panel
    assert_url    projects
    acces_modif
    [Teardown]    Run keywords    close all browsers
    ...    AND    write_log

Mtew_Projets_WrongEdit
    [Tags]    projects    progress
    connection_web
    connection_log
    access_project_panel
    assert_url    projects
    acces_modif
    nullify_name
    sleep    5
    submit_form_add
    assert_error    ${keyNameEmpty}    ${fichierFR}
    fill_form_add
    submit_form_add
    assert_error    ${keyServicesEmpty}    ${fichierFR}
    lang_eng
    access_project_panel
    assert_url    projects?locale=en
    acces_modif
    nullify_name
    submit_form_add
    assert_error    ${keyNameEmpty}    ${fichierEN}
    fill_form_add
    submit_form_add
    assert_error    ${keyServicesEmpty}    ${fichierEN}
    [Teardown]    Run keywords    close all browsers
    ...    AND    write_log

Mtew_Projets_WrongDelete
    [Tags]    projects
    connection_web
    connection_log
    access_project_panel
    assert_url    projects
    click_suppr
    assert_url    projects
    assert_error    ${keyNoProjectSelected}    ${fichierFR}
    access_project_panel
    lang_eng
    assert_url    projects?locale=en
    click_suppr
    assert_url    projects?locale=en
    assert_error    ${keyNoProjectSelected}    ${fichierEN}
    [Teardown]    Run keywords    close all browsers
    ...    AND    write_log

Mtew_Projets_RightDelete
    [Tags]    projects
    connection_web
    connection_log
    access_project_panel
    assert_url    projects
    check_box
    click_suppr
    [Teardown]    Run keywords    close all browsers
    ...    AND    write_log
