*** Settings ***
Resource          ../Conf/conf_Mtew_Projets.txt
Library           Selenium2Library

*** Keywords ***
!access_project_panel
    wait until page contains element    id=administrationMenuItem
    click element    xpath=//li[@id="administrationMenuItem"]//a[@class="dropdown-toggle"]
    wait until page contains element    id=projectsSubMenuItem
    click element    id=projectsSubMenuItem

!access_add_project
    wait until page contains element    xpath=//span[text()="Ajouter un projet"]
    click element    xpath=//span[text()="Ajouter un projet"]

!submit_form_add
    click element    xpath=//input[@value="Sauvegarder"]

!input_name
    input text    id=name    ${testNom}
    input text    id=projectDescription    ${testDesc}

!input_services
    click element    xpath=//label[@for="servicesIds1"]
    click element    xpath=//label[@for="servicesIds3"]

!record_project_name
    click element    xpath=//span[@class="sound-icon"]
    click element    xpath=//span[text()="Enregistrer"]
    sleep    10
    click element    xpath=//span[@class="stop pull-left"]

!assert_insert
    wait until page contains element    xpath=//div[@class="col-md-6 pull-right"]
    Page should contain    ${testNom}    ${testDesc}

!assert_error
    [Arguments]    ${message}
    page should contain    ${message}
